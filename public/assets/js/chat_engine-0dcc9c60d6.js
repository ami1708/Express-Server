class ChatEngine{constructor(s,e){this.chatBox=$("#"+s),this.userEmail=e,this.socket=io.connect("http://localhost:5000"),this.userEmail&&this.connectionHandler()}connectionHandler(){let s=this;this.socket.on("connect",(function(){console.log("connection established using sockets...!"),s.socket.emit("join_room",{user_email:s.userEmail,chatroom:"codeial"}),s.socket.on("user_joined",(function(s){console.log("a user joined!",s)}))})),$("#send-message").click((function(){let e=$("#chat-message-input").val();""!=e&&s.socket.emit("send_message",{message:e,user_email:s.userEmail,chatroom:"codeial"})})),s.socket.on("receive_message",(function(e){console.log("message received",e.message);let i=$("<li>"),t="other-message";e.user_email==s.userEmail&&(t="self-message"),i.append($("<span>",{html:e.message})),i.append($("<sub>",{html:e.user_email})),i.addClass(t),$("#chat-messages-list").append(i)}))}}const gulp=require("gulp"),sass=require("gulp-sass"),cssnano=require("gulp-cssnano"),rev=require("gulp-rev");gulp.task("css",(function(){return console.log("minifying css..."),gulp.src("./assets/sass/**/*.scss").pipe(sass()).pipe(cssnano()).pipe(gulp.dest("./assets.css")),gulp.src("./assets/**/*.css").pipe(rev()).pipe(gulp.dest("./public/assets")).pipe(rev.manifest({cwd:"public",merge:!0})).pipe(gulp.dest("./public/assets"))}));